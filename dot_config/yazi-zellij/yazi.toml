[manager]
show_hidden = true
sort_by = "natural"
sort_dir_first = true
theme = "tokyo-night"

[opener]
hx-zellij = [
  { run = '''
    file="$1"

    # 切到左侧 pane
    zellij action move-focus left

    # 在左侧 pane 上创建 stacked pane 并运行 hx
    zellij action new-pane --stacked --cwd "$(dirname "$file")" -- hx "$file"

    # 关闭当前浮动 yazi pane
    zellij action close-pane
  ''', desc = "Open in hx (stacked left)" }
]

[open]
prepend_rules = [
  { mime = "text/*", use = "hx-zellij" },
  { mime = "application/json", use = "hx-zellij" },
  { mime = "application/toml", use = "hx-zellij" },
  { mime = "application/yaml", use = "hx-zellij" },
  { mime = "application/xml", use = "hx-zellij" },
]
