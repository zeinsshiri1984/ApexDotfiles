[preview]
max_width  = 80
max_height = 80
tab_size   = 2
image_preview = false  # 核心：关闭图像预览
sixel_fraction = 0  # 彻底禁用 Sixel

[plugin]
# 针对媒体文件，强制使用 noop 预加载器
# 这意味着 Yazi 不会尝试调用 ffmpeg/magick 生成缩略图，极大提升 Zellij 中的滚动速度和服务器/容器资源
prepend_previewers = [
    { mime = "image/*", run = "noop" },
    { mime = "video/*", run = "noop" },
    { mime = "application/pdf", run = "noop" },
    { mime = "audio/*", run = "noop" }
]
prepend_preloaders = [
    { mime = "image/*", run = "noop" },
    { mime = "video/*", run = "noop" },
    { mime = "application/pdf", run = "noop" },
    { mime = "audio/*", run = "noop" }
]
# 强制屏蔽 git fetcher，防止后台扫描大仓库导致卡顿
fetchers = [
  { id = "git", name = "*", run = "noop" },
  { id = "git_status", name = "*", run = "noop" }
]

# 引入共享部分
{{ template "yazi_shared.toml" . }}