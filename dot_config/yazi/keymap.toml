[manager]
prepend_keymap = [
    # 智能进入 (Smart Enter)
    { on = [ "l" ], run = "lua require('init').smart_enter()", desc = "Smart Enter" },
    { on = [ "<Right>" ], run = "lua require('init').smart_enter()", desc = "Smart Enter" },

    # 智能剪贴板 (Smart Copy)
    { on = [ "y" ], run = "lua require('init').smart_paste()", desc = "Copy path to clipboard" },

    # --- 快速跳转/搜索 ---
    { on = [ "z" ], run = "plugin zoxide", desc = "Jump via zoxide" },
    { on = [ "f" ], run = "plugin fzf", desc = "Jump via fzf" }, # 建议安装 yazi-rs/plugins 中的 fzf
    { on = [ "/" ], run = "filter --smart", desc = "Filter files" },

    # 拖拽模拟 (配合 Dragon 或类似工具，可选，但很极客)
    # { on = [ "<C-n>" ], run = "shell 'dragon-drop -x -T %c' --confirm", desc = "Drag and drop" },

    # d: 移动到回收站 (使用 yazi 内置的 trash 支持，它会自动对接 trash-cli 或 glib-trash)
    { on = [ "d" ], run = "remove --trash", desc = "Move to trash" },
    # D: 永久删除 (强制确认)
    { on = [ "D" ], run = "remove --permanently", desc = "PERMANENTLY delete" },
    
    # --- 安全退出 ---
    { on = [ "q" ], run = "quit", desc = "Quit" },
    { on = [ "Q" ], run = "quit --no-cwd-file", desc = "Exit (no cd)" }
]