# ~/.profile — 唯一环境变量事实源
# Bash login / sh / 非交互式脚本均 source 此文件

# 如果已载入则立即返回（sourced 情况下可用）
[ -n "${PROFILE_LOADED-}" ] && return
export PROFILE_LOADED=1

# Locale
export LANG=en_US.UTF-8

# XDG Base Directory
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"
export XDG_CACHE_HOME="$HOME/.cache"

# Editor
export EDITOR=hx
export VISUAL=hx

#用户bin幂等加入 PATH（避免重复）加入路径
case ":$PATH:" in
  *":$HOME/.local/bin:"*) ;;
  *) PATH="$HOME/.local/bin:$PATH"; export PATH ;;
esac

#在 Bash 中激活的mise钩子;只激活一次
if [ -n "${BASH_VERSION-}" ] && command -v mise >/dev/null 2>&1; then
  if [ -z "${MISE_BASH_ACTIVATED-}" ]; then
    eval "$(mise activate bash)"
    export MISE_BASH_ACTIVATED=1
  fi
fi

# Linuxbrew
export NONINTERACTIVE=1
export HOMEBREW_NO_ANALYTICS=1
export HOMEBREW_NO_ENV_HINTS=1

if [ -x /home/linuxbrew/.linuxbrew/bin/brew ]; then
  eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
elif [ -x "$HOME/.linuxbrew/bin/brew" ]; then
  eval "$("$HOME/.linuxbrew/bin/brew" shellenv)"
fi