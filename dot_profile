# XDG Base Directory Specification
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"
export XDG_STATE_HOME="${XDG_STATE_HOME:-$HOME/.local/state}"
export XDG_RUNTIME_DIR="${XDG_RUNTIME_DIR:-/run/user/$(id -u)}"

mkdir -p "$XDG_CONFIG_HOME" "$XDG_DATA_HOME" "$XDG_CACHE_HOME" "$XDG_STATE_HOME" "$XDG_RUNTIME_DIR"

# --- Path Management ---
PATH_DIRS=(
    "$HOME/.local/bin"
    "$XDG_DATA_HOME/mise/shims"
    "$XDG_DATA_HOME/cargo/bin"
    "$XDG_DATA_HOME/go/bin"
    "$HOME/.local/share/pnpm"
)

# Common Environment Variables
export EDITOR='hx'
export VISUAL='hx'
export LANG=en_US.UTF-8

# Docker/Podman Socket (Dynamic UID)
export DOCKER_HOST="unix://$XDG_RUNTIME_DIR/podman/podman.sock"
export DOCKER_SOCK="$DOCKER_HOST"
export TESTCONTAINERS_DOCKER_SOCKET_OVERRIDE="$DOCKER_HOST"
# Optimization: Trust local content by default for dev
export DOCKER_CONTENT_TRUST=0