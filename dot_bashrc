# ~/.bashrc — Bash 交互式配置;负责启动 Nushell

# 防止从 Nushell 重入
[ -n "${NU_VERSION-}" ] && return

# 仅交互式 shell
case $- in *i*) ;; *) return ;; esac

# 显式禁用 (调试/CI: NO_NU=1 bash)
[ -n "${NO_NU-}" ] && return

# 需要真实终端
[ -t 0 ] && [ -t 1 ] || return
[ "${TERM-}" = "dumb" ] && return

# 启动 Nushell 作为交互层
command -v nu >/dev/null 2>&1 && exec nu